<link rel="stylesheet" href="css/admin/plugins/appointment/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css" />

<script src="js/plugins/appointment/moment-with-locales.min.js"></script>
<script src="js/plugins/appointment/tempusdominus-bootstrap-4.min.js"></script>
<script src="js/jquery/jquery-ui.min.js"></script>
<script src="js/bootstrap-filestyle.min.js"></script>

<#if field.valueTypeDate?exists>
	<#assign value = field.valueTypeDate />
<#else>
	<#assign value = '' />
</#if>
<#if list_responses??>
	<#list list_responses as response>
		<#if response.entry.idEntry == entry.idEntry>
			<#if response.entry.error??>
				<#assign class = 'has-error' />
			</#if>
			<#if response.toStringValueResponse??>
				<#assign value = response.toStringValueResponse />
			</#if>
		</#if>
	</#list>
</#if>


<@formGroup labelFor='attribute${entry.idEntry}' labelKey='${entry.title}' helpKey='${entry.helpMessage!}' class=class mandatory=entry.mandatory>
    <#list entry.fields as field>
        <@inputGroup class= "date" id="attribute${entry.idEntry}" params='data-target-input="nearest"'>
	    <@inputGroupItem pos="append" type="text" params='data-target="#attribute${entry.idEntry}" data-toggle="datetimepicker"'>
                <@icon class="fa fa-calendar" />
            </@inputGroupItem>
	    <@input type='text' name='attribute${entry.idEntry}' value=value class='datetimepicker-input ${entry.CSSClass!}' params='data-target="#attribute${entry.idEntry}"' />
	</@inputGroup>

		<#if list_responses??>
			<#list list_responses as response>
				<#if response.entry.idEntry == entry.idEntry && response.entry.error?? && response.entry.error.isDisplayableError>
					<@alert class='danger'>
						<#assign error = response.entry.error>
						<#if error.mandatoryError>${error.errorMessage}<#else>#i18n{appointment.message.mandatory.entry}</#if>
					</@alert>
				</#if>
			</#list>
		</#if>
    </#list>
</@formGroup>


<script type="text/javascript">	
  $(function () {
      $('#attribute${entry.idEntry}').datetimepicker({
          locale: '${language}',
	  format: 'L',
          keepOpen: false,
	  allowInputToggle: true,
          buttons: {
              showToday: true,
              showClear: true,
              showClose: true
          }
      });
  });
</script>
